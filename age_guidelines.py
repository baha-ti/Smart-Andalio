GRADE_AGE_MAPPING = {
    "pre_primary": {
        "age": "5",
        "description": "Pre-Primary (Elimu ya Awali)",
        "capabilities": {
            "cognitive": "Concrete thinking, basic problem-solving, beginning to understand cause and effect",
            "social": "Learning to share, taking turns, basic cooperation",
            "motor": "Developing fine and gross motor skills through drawing, running, etc.",
            "language": "Communicates clearly in Kiswahili (basic speaking and listening)",
            "attention": "5-10 minutes focused attention",
            "memory": "Short-term memory developing, can remember simple sequences",
            "core_competencies": [
                "Communicates clearly in Kiswahili (basic speaking and listening)",
                "Recognizes letters, sounds, and numbers (pre-reading and pre-math)",
                "Follows instructions and classroom routines",
                "Cooperates with peers in group play and tasks",
                "Demonstrates fine and gross motor skills through drawing, running, etc.",
                "Expresses creativity via singing, drawing, dancing",
                "Identifies basic healthy habits (e.g. hygiene)",
                "Begins to explore natural surroundings with curiosity"
            ]
        }
    },
    "standard_one": {
        "age": "6-7",
        "description": "Standards I-II (Lower Primary)",
        "capabilities": {
            "cognitive": "Developing logical thinking, beginning to understand abstract concepts",
            "social": "Learning to work in groups, developing empathy",
            "motor": "Improved fine motor skills, better coordination",
            "language": "Reads and writes short Kiswahili texts; begins reading and writing in English",
            "attention": "10-15 minutes focused attention",
            "memory": "Can remember and follow multi-step instructions",
            "core_competencies": [
                "Reads and writes short Kiswahili texts; begins reading and writing in English",
                "Performs basic arithmetic: counting, addition, subtraction",
                "Listens, speaks, and responds clearly in Kiswahili; begins structured English learning",
                "Works in groups and follows classroom rules",
                "Describes simple observations in nature (e.g. 'it is raining')",
                "Demonstrates moral values (e.g. honesty, kindness)",
                "Practices self-care and cleanliness",
                "Begins using ICT tools (if available) with guidance"
            ]
        }
    },
    "standard_two": {
        "age": 7,
        "description": "Standard Two (7 years)",
        "capabilities": {
            "cognitive": "Improved problem-solving, beginning to think critically",
            "social": "More complex group interactions, developing friendships",
            "motor": "Refined motor skills, better control",
            "language": "Reading fluency improving, writing simple stories",
            "attention": "15-20 minutes focused attention",
            "memory": "Better recall of information, can remember sequences"
        }
    },
    "standard_three": {
        "age": "8-9",
        "description": "Standards III-IV (Middle Primary)",
        "capabilities": {
            "cognitive": "Developing abstract thinking, more complex problem-solving",
            "social": "Understanding social rules, working in teams",
            "motor": "Good coordination, developing specialized skills",
            "language": "Reads fluently and writes structured paragraphs in Kiswahili and simple English",
            "attention": "20-25 minutes focused attention",
            "memory": "Improved working memory, can remember and apply concepts",
            "core_competencies": [
                "Reads fluently and writes structured paragraphs in Kiswahili and simple English",
                "Solves 2-3 step arithmetic problems (including multiplication/division)",
                "Describes real-world concepts in science and social studies",
                "Participates in group discussions, class presentations",
                "Applies critical thinking to classify, compare, and draw simple conclusions",
                "Demonstrates teamwork and basic leadership in school tasks",
                "Practices inclusive attitudes and environmental care",
                "Uses simple digital tools independently with support"
            ]
        }
    },
    "standard_four": {
        "age": 9,
        "description": "Standard Four (9 years)",
        "capabilities": {
            "cognitive": "More sophisticated abstract thinking, critical analysis",
            "social": "Understanding different perspectives, complex group dynamics",
            "motor": "Advanced motor skills, good coordination",
            "language": "Strong reading comprehension, writing structured texts",
            "attention": "25-30 minutes focused attention",
            "memory": "Good working memory, can remember and apply complex concepts"
        }
    },
    "standard_five": {
        "age": "10-11",
        "description": "Standards V-VI (Upper Primary)",
        "capabilities": {
            "cognitive": "Advanced problem-solving, critical thinking",
            "social": "Understanding social hierarchies, complex relationships",
            "motor": "Excellent coordination, specialized skills",
            "language": "Reads and writes longer texts; writes stories, reports in Kiswahili; short essays in English",
            "attention": "30-35 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple concepts",
            "core_competencies": [
                "Reads and writes longer texts; writes stories, reports in Kiswahili; short essays in English",
                "Solves complex math problems (fractions, percentages, geometry basics)",
                "Conducts structured science observations and records data",
                "Analyzes community issues in civics and geography",
                "Demonstrates responsibility, punctuality, and independent learning habits",
                "Uses basic ICT skills (typing, using educational software)",
                "Demonstrates patriotism, ethics, and care for the environment",
                "Leads group work and projects; provides peer support"
            ]
        }
    },
    "standard_six": {
        "age": 11,
        "description": "Standard Six (11 years)",
        "capabilities": {
            "cognitive": "Sophisticated abstract thinking, complex analysis",
            "social": "Understanding social norms, complex group dynamics",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Advanced reading and writing, critical analysis",
            "attention": "35-40 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts"
        }
    },
    "form_one": {
        "age": "12-13",
        "description": "Forms I-II (Lower Secondary, O-Level)",
        "capabilities": {
            "cognitive": "Advanced abstract thinking, complex problem-solving",
            "social": "Understanding social structures, complex relationships",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Understands and communicates effectively in academic English and Kiswahili",
            "attention": "40-45 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts",
            "core_competencies": [
                "Understands and communicates effectively in academic English and Kiswahili",
                "Applies subject knowledge to solve problems (Math, Science, Civics, Business)",
                "Conducts scientific investigations with data collection and analysis",
                "Writes formal texts: essays, lab reports, short business plans",
                "Collaborates effectively in team-based learning tasks and projects",
                "Uses ICT tools for learning, research, and presentations",
                "Demonstrates self-reflection, goal-setting, and problem-solving",
                "Participates in inclusive, ethical, and civic-oriented school activities"
            ]
        }
    },
    "form_two": {
        "age": 13,
        "description": "Form Two (13 years)",
        "capabilities": {
            "cognitive": "Sophisticated abstract thinking, complex analysis",
            "social": "Understanding social hierarchies, complex group dynamics",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Advanced reading and writing, critical analysis",
            "attention": "45-50 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts"
        }
    },
    "form_three": {
        "age": "14-15",
        "description": "Forms III-IV (Upper Secondary, O-Level Completion)",
        "capabilities": {
            "cognitive": "Advanced critical thinking, complex problem-solving",
            "social": "Understanding social structures, complex relationships",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Advanced reading and writing, critical analysis",
            "attention": "50-55 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts",
            "core_competencies": [
                "Mastery of subject-specific knowledge (Math, Science, Social Sciences, Business)",
                "Produces advanced academic work: analytical essays, experiments, research summaries",
                "Solves real-world problems in technical, civic, or business contexts",
                "Leads peer teams in learning or community activities",
                "Communicates confidently in formal academic and professional settings",
                "Demonstrates entrepreneurship and small-scale business planning",
                "Uses ICT effectively for learning, productivity, and presentations",
                "Shows leadership, integrity, and strong ethical reasoning in school and community"
            ]
        }
    },
    "form_four": {
        "age": 15,
        "description": "Form Four (15 years)",
        "capabilities": {
            "cognitive": "Sophisticated critical thinking, complex analysis",
            "social": "Understanding social hierarchies, complex group dynamics",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Advanced reading and writing, critical analysis",
            "attention": "55-60 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts"
        }
    },
    "form_five": {
        "age": "16-17",
        "description": "Forms V-VI (Advanced Secondary, A-Level)",
        "capabilities": {
            "cognitive": "Advanced critical thinking, complex problem-solving",
            "social": "Understanding social structures, complex relationships",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Advanced reading and writing, critical analysis",
            "attention": "60-65 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts",
            "core_competencies": [
                "Specializes in academic subject combinations (e.g. PCM, EGM, HGL)",
                "Analyzes, synthesizes, and evaluates complex information and theories",
                "Conducts independent research or fieldwork and writes detailed reports",
                "Delivers formal academic presentations and leads group projects",
                "Demonstrates high-level critical thinking and ethical judgment",
                "Uses ICT tools (word processing, data analysis software) independently",
                "Applies entrepreneurial, problem-solving, and innovation skills",
                "Prepares for higher education with self-discipline, study strategies, and communication skills"
            ]
        }
    },
    "form_six": {
        "age": 17,
        "description": "Form Six (17 years)",
        "capabilities": {
            "cognitive": "Sophisticated critical thinking, complex analysis",
            "social": "Understanding social hierarchies, complex group dynamics",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Advanced reading and writing, critical analysis",
            "attention": "65-70 minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts"
        }
    },
    "diploma_in_education": {
        "age": "18-19",
        "description": "Diploma in Teacher Education",
        "capabilities": {
            "cognitive": "Advanced critical thinking, complex problem-solving",
            "social": "Understanding social structures, complex relationships",
            "motor": "Highly developed motor skills, specialized abilities",
            "language": "Advanced reading and writing, critical analysis",
            "attention": "70+ minutes focused attention",
            "memory": "Excellent working memory, can remember and apply multiple complex concepts",
            "core_competencies": [
                "Designs and delivers learner-centred, inclusive lessons aligned to the curriculum",
                "Assesses learners using diverse tools (tests, projects, portfolios)",
                "Communicates professionally in Kiswahili/English; simplifies complex ideas",
                "Integrates ICT and improvised teaching aids into lesson delivery",
                "Adapts teaching for students with disabilities (e.g. uses TSL, Braille)",
                "Reflects critically on teaching and conducts action research",
                "Demonstrates ethical teaching practices and professional growth",
                "Leads educational and school-based projects confidently"
            ]
        }
    }
}

def get_age_appropriate_guidelines(grade_level):
    """
    Returns age-appropriate guidelines for lesson planning based on grade level.
    """
    grade_key = grade_level.lower().replace(" ", "_")
    if grade_key not in GRADE_AGE_MAPPING:
        raise ValueError(f"Invalid grade level: {grade_level}")
    
    capabilities = GRADE_AGE_MAPPING[grade_key]["capabilities"]
    
    return {
        "cognitive_development": capabilities["cognitive"],
        "attention_span": capabilities["attention"],
        "activity_complexity": f"Activities should match {capabilities['cognitive']} capabilities",
        "group_work": f"Group activities should consider {capabilities['social']} development",
        "technology_use": "Technology use should be age-appropriate and support learning objectives",
        "assessment_approach": "Assessment should align with cognitive and developmental stage",
        "motor_skills": capabilities["motor"],
        "language_development": capabilities["language"],
        "social_development": capabilities["social"],
        "core_competencies": capabilities["core_competencies"]
    } 